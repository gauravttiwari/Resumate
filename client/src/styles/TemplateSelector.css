/* TemplateSelector.css */
.template-selector {
  max-width: 1100px;
  margin: 0 auto;
  padding: 28px 20px;
}

.template-header {
  text-align: center;
  margin-bottom: 10px;
}

.template-title {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  background: linear-gradient(90deg, rgba(99,102,241,0.06), rgba(56,189,248,0.03));
  padding: 14px 20px;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(16,24,40,0.04);
  color: #102a43;
  font-size: 1.4rem;
  font-weight: 700;
  letter-spacing: 0.2px;
}

.template-title-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  border-radius: 10px;
  background: linear-gradient(180deg,#fff,#f1f5f9);
  box-shadow: 0 6px 18px rgba(2,6,23,0.06);
  font-size: 1.15rem;
}

/* Entrance animation: fade and slide up */
.template-title {
  transform: translateY(8px);
  opacity: 0;
  animation: titleIn 520ms cubic-bezier(.2,.9,.2,1) forwards;
}

@keyframes titleIn {
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.template-intro {
  color: #55606a;
  margin: 14px auto 28px auto;
  font-size: 1.02rem;
  line-height: 1.6;
  max-width: 820px;
  text-align: center; /* center the paragraph */
}

/* Hero header used on the top of the template selector */
.template-hero {
  text-align: center;
  padding: 44px 12px;
  margin-bottom: 24px;
}
.hero-title {
  font-size: 48px;
  font-weight: 800;
  margin: 0 0 12px 0;
  color: #0f172a;
}
.hero-subtitle {
  font-size: 18px;
  color: #334155;
  max-width: 900px;
  margin: 0 auto 18px auto;
  line-height: 1.6;
}
.hero-cta-wrap { margin-top: 6px; }
.hero-cta {
  background: #0ea5a4;
  color: #fff;
  border: none;
  padding: 12px 20px;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(14,165,164,0.14);
}
.hero-cta:hover { transform: translateY(-2px); }

/* Mobile adjustments */
@media (max-width: 640px) {
  .template-title {
    font-size: 1.1rem;
    padding: 12px 14px;

/* Preview miniature container inside card */
.template-card .mini-preview-wrap {
  height: 180px;
  background: linear-gradient(180deg, #eef5fb 0%, #f7fbff 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

/* Scale down the resume preview to fit card */
.mini-preview-inner {
  width: 90%;
  height: 160px;
  overflow: hidden;
  border-radius: 6px;
  background: white;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
  transform-origin: top left;
}

/* mobile-specific mini-preview styles (small scale so full page visible) */
.mini-preview-inner .resume-preview {
  width: 800px; /* typical resume width used by templates */
  transform-origin: top left;
  /* transform applied dynamically via JS to fit each card */
  pointer-events: none; /* make miniature non-interactive */
}

/* Overlay for action buttons */
.template-card .card-actions {
  position: absolute;
  top: 12px;
  right: 12px;
  display: flex;
  gap: 8px;
  z-index: 30;
}

.template-card .card-actions .btn {
  padding: 6px 10px;
  font-size: 13px;
  border-radius: 8px;
  box-shadow: 0 6px 18px rgba(20,47,84,0.06);
}

/* Keep actions visible on mobile and desktop */
.template-card .card-actions { opacity: 1; }

/* When hovering card slightly raise action visibility */
.template-card:hover .card-actions { transform: translateY(-2px); }
    gap: 8px;
  }
  .template-title-icon {
    width: 42px;
    height: 42px;
  }
  .template-preview { height: 180px; }
  .template-grid { grid-template-columns: 1fr; }
  .template-selector { padding: 18px 12px; }
}

.template-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin-bottom: 30px;
}

.template-card {
  border: 1px solid rgba(34,36,38,0.08);
  border-radius: 8px;
  overflow: hidden;
  transition: transform 0.18s ease, box-shadow 0.18s ease;
  cursor: pointer;
  position: relative;
  background-color: #ffffff;
  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.04);
  display: flex;
  flex-direction: column;
}

.template-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.08);
}

.template-card.selected {
  border-color: rgba(52,152,219,0.9);
  box-shadow: 0 10px 30px rgba(52,152,219,0.12);
}

.template-preview {
  height: 180px;
  background-color: #fafafa;
  display: flex;
  align-items: center;
  justify-content: center;
  border-bottom: 1px solid rgba(34,36,38,0.06);
  position: relative;
}

.template-placeholder {
  font-size: 2.2rem;
  color: #9aa4b2;
  font-weight: 700;
  text-transform: none;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.template-info {
  padding: 14px 16px 18px 16px;
  flex: 1 1 auto;
  max-width: 720px;
  font-size: 15px;
  text-align: center;
}

.template-info h3 {
  margin: 0 0 8px;
  font-size: 1.05rem;
  color: #22303f;
  font-weight: 600;
}

.template-info p {
  margin: 0 0 10px 0;
  font-size: 0.92rem;
  color: #55606a;
  line-height: 1.4;
  flex: 0 0 auto;
}

.template-selected {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 28px;
  height: 28px;
  background-color: #2ecc71;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 6px 14px rgba(46,204,113,0.12);
}

/* --- Design overrides to create large card previews like the reference image --- */
.template-selector {
  padding: 36px 48px;
  background: linear-gradient(135deg, #eafaf9 0%, #f1fbfe 35%, #e8fbff 100%);
}

.template-grid {
  grid-template-columns: repeat(4, 1fr);
  gap: 38px;
}

.template-card {
  background: transparent;
  border-radius: 18px;
  overflow: visible;
  display: flex;
  flex-direction: column;
  transition: transform .22s ease, box-shadow .22s ease;
  position: relative;
}

.template-card:hover { transform: translateY(-4px); z-index: 20; }

/* The outer card area that holds the white 'paper' preview */
.template-card .mini-preview-wrap {
  height: 420px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  padding: 20px;
  background: linear-gradient(180deg, rgba(12,120,120,0.03), rgba(12,120,120,0.01));
  border-radius: 18px;
}

.mini-preview-inner {
  width: 86%;
  height: 380px;
  overflow: hidden;
  border-radius: 18px;
  background: white;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
  transform-origin: top left;
  box-shadow: 0 18px 40px rgba(30,80,120,0.06);
}

/* Ensure embedded resume is scaled to show full page (desktop) */
.mini-preview-inner > .resume-preview,
.mini-preview-inner .resume-preview {
  width: 800px;
  transform-origin: top left;
  /* dynamic transform from TemplateSelector.js will set per-card scale */
  pointer-events: none;
}

/* Center action buttons at the bottom of the card */
.template-card .card-actions {
  position: absolute;
  bottom: 18px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 14px;
  z-index: 40;
}

.template-card .card-actions .btn {
  padding: 10px 20px;
  font-size: 14px;
  border-radius: 999px;
  box-shadow: 0 14px 30px rgba(20,47,84,0.08);
  border: none;
  background: white;
  color: #0f172a;
}

/* Circular preview action in top-right of the preview area */
.preview-action {
  position: absolute;
  top: 22px;
  right: 34px;
  width: 44px;
  height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: linear-gradient(180deg,#ffffff,#f6fffd);
  box-shadow: 0 6px 18px rgba(10,120,120,0.08);
  border: 2px solid rgba(14,165,164,0.06);
  z-index: 45;
}

.template-card-labels { display:flex; flex-direction:column; align-items:center; gap:6px; margin-top:14px; }
.label-title { font-size: 24px; font-weight:800; color: #6d28d9; }
.label-sub { font-size:16px; color:#6b7280; }

@media (max-width: 1024px) {
  .template-grid { grid-template-columns: repeat(2,1fr); }
  .mini-preview-inner { height: 320px; }
  .template-card .mini-preview-wrap { height: 360px; }
}

@media (max-width: 640px) {
  .template-grid { grid-template-columns: 1fr; }
  .mini-preview-inner { height: 260px; }
  .template-card .mini-preview-wrap { height: 300px; padding: 12px; }
  .template-selector { padding: 18px 12px; }
}

.checkmark {
  color: white;
  font-size: 0.9rem;
  font-weight: bold;
}

.template-selector-tips {
  background-color: #f8f9fa;
  border-radius: 8px;
  padding: 20px;
  margin-top: 30px;
  border-left: 4px solid #3498db;
}

/* Action overlay buttons at the top-right of preview (small) */
.template-preview .action-overlay {
  position: absolute;
  top: 8px;
  right: 8px;
  display: flex;
  gap: 6px;
  z-index: 3;
}
.template-preview .action-overlay button {
  background: rgba(255,255,255,0.9);
  border: 1px solid rgba(34,36,38,0.06);
  padding: 6px 8px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.85rem;
}

/* External badge */
.external-badge {
  position: absolute;
  left: 8px;
  top: 8px;
  background: rgba(34,36,38,0.06);
  color: #22303f;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 0.8rem;
  font-weight: 600;
}

/* Template actions area */
.template-actions {
  display: flex;
  gap: 8px;
  margin-top: auto;
}
.template-actions button {
  flex: 1 1 auto;
  padding: 8px 10px;
  border-radius: 6px;
  border: 1px solid rgba(34,36,38,0.06);
  background: #ffffff;
  cursor: pointer;
  font-size: 0.9rem;
}
.btn-select-template {
  background: linear-gradient(90deg,#3b82f6,#2563eb);
  color: white;
  border: none;
}
.btn-preview-template {
  background: #f5f7fa;
  color: #22303f;
}

/* Responsive breakpoints like resume.io (3 / 2 / 1 columns) */
@media (max-width: 980px) {
  .template-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
  .template-grid { grid-template-columns: repeat(1, 1fr); }
  .template-preview { height: 220px; }
}

.template-selector-tips h4 {
  color: #2c3e50;
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 1.1rem;
}

.template-selector-tips ul {
  margin: 0;
  padding-left: 20px;
}

.template-selector-tips li {
  margin-bottom: 8px;
  font-size: 0.95rem;
  color: #555;
  line-height: 1.5;
}

.template-selector-tips strong {
  color: #2c3e50;
}

/* Scoped overrides to ensure TemplateSelector is fully responsive and doesn't
   conflict with global styles in App.css. These rules target only elements
   inside .template-selector. */
.template-selector .template-preview .action-overlay { opacity: 0; transform: translateY(-6px); transition: opacity 180ms ease, transform 180ms ease; pointer-events: none; }
.template-selector .template-card:hover .template-preview .action-overlay,
.template-selector .template-card:focus-within .template-preview .action-overlay { opacity: 1; transform: translateY(0); pointer-events: auto; }

/* On touch devices :hover isn't available. Show the top-right preview/action overlay
   by default when the device doesn't support hover so users can tap the buttons. */
@media (hover: none) {
  .template-selector .template-preview .action-overlay {
    opacity: 1 !important;
    transform: translateY(0) !important;
    pointer-events: auto !important;
  }
}

.template-selector .template-image { width: 100%; height: 100%; object-fit: cover; display: block; }

.template-selector .template-grid { grid-template-columns: repeat(3, 1fr); }

/* Safety overrides: ensure action buttons are visible even when other global
   styles try to hide or lower opacity. These use high specificity and !important
   only where necessary to avoid being suppressed by other rules. */
.template-selector .template-actions {
  display: flex !important;
  gap: 8px !important;
  margin-top: auto !important;
  z-index: 6; /* above basic card content */
}
.template-selector .template-actions button {
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}

.template-selector .template-preview .action-overlay {
  z-index: 12; /* ensure overlay sits above preview images */
  background: rgba(255,255,255,0.9);
  padding: 4px;
  border-radius: 6px;
}

@media (hover: none) {
  .template-selector .template-actions {
    flex-direction: row !important;
  }
  .template-selector .template-preview .action-overlay {
    opacity: 1 !important;
    transform: translateY(0) !important;
    pointer-events: auto !important;
  }
}
@media (max-width: 980px) {
  .template-selector .template-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
  .template-selector .template-grid { grid-template-columns: 1fr; }
  .template-selector .template-preview { height: 220px; }
}


/* Optional: Dark mode support */
@media (prefers-color-scheme: dark) {
  .template-selector h2 {
    color: #ecf0f1;
  }
  
  .template-intro {
    color: #bdc3c7;
  }
  
  .template-card {
    background-color: #2c3e50;
    border-color: #34495e;
  }
  
  .template-preview {
    background-color: #34495e;
    border-color: #2c3e50;
  }
  
  .template-placeholder {
    color: #7f8c8d;
  }
  
  .template-info h3 {
    color: #ecf0f1;
  }
  
  .template-info p {
    color: #bdc3c7;
  }
  
  .template-selector-tips {
    background-color: #34495e;
    border-left-color: #3498db;
  }
  
  .template-selector-tips h4 {
    color: #ecf0f1;
  }
  
  .template-selector-tips li {
    color: #bdc3c7;
  }
  
  .template-selector-tips strong {
    color: #ecf0f1;
  }
}
