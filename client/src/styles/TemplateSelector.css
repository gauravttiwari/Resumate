/* TemplateSelector.css */
.template-selector {
  max-width: 1100px;
  margin: 0 auto;
  padding: 28px 20px;
}

.template-selector h2 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-weight: 600;
}

.template-intro {
  color: #555;
  margin-bottom: 25px;
  font-size: 1rem;
  line-height: 1.5;
}

.template-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin-bottom: 30px;
}

.template-card {
  border: 1px solid rgba(34,36,38,0.08);
  border-radius: 8px;
  overflow: hidden;
  transition: transform 0.18s ease, box-shadow 0.18s ease;
  cursor: pointer;
  position: relative;
  background-color: #ffffff;
  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.04);
  display: flex;
  flex-direction: column;
}

.template-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.08);
}

.template-card.selected {
  border-color: rgba(52,152,219,0.9);
  box-shadow: 0 10px 30px rgba(52,152,219,0.12);
}

.template-preview {
  height: 180px;
  background-color: #fafafa;
  display: flex;
  align-items: center;
  justify-content: center;
  border-bottom: 1px solid rgba(34,36,38,0.06);
  position: relative;
}

.template-placeholder {
  font-size: 2.2rem;
  color: #9aa4b2;
  font-weight: 700;
  text-transform: none;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.template-info {
  padding: 14px 16px 18px 16px;
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
}

.template-info h3 {
  margin: 0 0 8px;
  font-size: 1.05rem;
  color: #22303f;
  font-weight: 600;
}

.template-info p {
  margin: 0 0 10px 0;
  font-size: 0.92rem;
  color: #55606a;
  line-height: 1.4;
  flex: 0 0 auto;
}

.template-selected {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 28px;
  height: 28px;
  background-color: #2ecc71;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 6px 14px rgba(46,204,113,0.12);
}

.checkmark {
  color: white;
  font-size: 0.9rem;
  font-weight: bold;
}

.template-selector-tips {
  background-color: #f8f9fa;
  border-radius: 8px;
  padding: 20px;
  margin-top: 30px;
  border-left: 4px solid #3498db;
}

/* Action overlay buttons at the top-right of preview (small) */
.template-preview .action-overlay {
  position: absolute;
  top: 8px;
  right: 8px;
  display: flex;
  gap: 6px;
  z-index: 3;
}
.template-preview .action-overlay button {
  background: rgba(255,255,255,0.9);
  border: 1px solid rgba(34,36,38,0.06);
  padding: 6px 8px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.85rem;
}

/* External badge */
.external-badge {
  position: absolute;
  left: 8px;
  top: 8px;
  background: rgba(34,36,38,0.06);
  color: #22303f;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 0.8rem;
  font-weight: 600;
}

/* Template actions area */
.template-actions {
  display: flex;
  gap: 8px;
  margin-top: auto;
}
.template-actions button {
  flex: 1 1 auto;
  padding: 8px 10px;
  border-radius: 6px;
  border: 1px solid rgba(34,36,38,0.06);
  background: #ffffff;
  cursor: pointer;
  font-size: 0.9rem;
}
.btn-select-template {
  background: linear-gradient(90deg,#3b82f6,#2563eb);
  color: white;
  border: none;
}
.btn-preview-template {
  background: #f5f7fa;
  color: #22303f;
}

/* Responsive breakpoints like resume.io (3 / 2 / 1 columns) */
@media (max-width: 980px) {
  .template-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
  .template-grid { grid-template-columns: repeat(1, 1fr); }
  .template-preview { height: 220px; }
}

.template-selector-tips h4 {
  color: #2c3e50;
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 1.1rem;
}

.template-selector-tips ul {
  margin: 0;
  padding-left: 20px;
}

.template-selector-tips li {
  margin-bottom: 8px;
  font-size: 0.95rem;
  color: #555;
  line-height: 1.5;
}

.template-selector-tips strong {
  color: #2c3e50;
}

/* Scoped overrides to ensure TemplateSelector is fully responsive and doesn't
   conflict with global styles in App.css. These rules target only elements
   inside .template-selector. */
.template-selector .template-preview .action-overlay { opacity: 0; transform: translateY(-6px); transition: opacity 180ms ease, transform 180ms ease; pointer-events: none; }
.template-selector .template-card:hover .template-preview .action-overlay,
.template-selector .template-card:focus-within .template-preview .action-overlay { opacity: 1; transform: translateY(0); pointer-events: auto; }

/* On touch devices :hover isn't available. Show the top-right preview/action overlay
   by default when the device doesn't support hover so users can tap the buttons. */
@media (hover: none) {
  .template-selector .template-preview .action-overlay {
    opacity: 1 !important;
    transform: translateY(0) !important;
    pointer-events: auto !important;
  }
}

.template-selector .template-image { width: 100%; height: 100%; object-fit: cover; display: block; }

.template-selector .template-grid { grid-template-columns: repeat(3, 1fr); }

/* Safety overrides: ensure action buttons are visible even when other global
   styles try to hide or lower opacity. These use high specificity and !important
   only where necessary to avoid being suppressed by other rules. */
.template-selector .template-actions {
  display: flex !important;
  gap: 8px !important;
  margin-top: auto !important;
  z-index: 6; /* above basic card content */
}
.template-selector .template-actions button {
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}

.template-selector .template-preview .action-overlay {
  z-index: 12; /* ensure overlay sits above preview images */
  background: rgba(255,255,255,0.9);
  padding: 4px;
  border-radius: 6px;
}

@media (hover: none) {
  .template-selector .template-actions {
    flex-direction: row !important;
  }
  .template-selector .template-preview .action-overlay {
    opacity: 1 !important;
    transform: translateY(0) !important;
    pointer-events: auto !important;
  }
}
@media (max-width: 980px) {
  .template-selector .template-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px) {
  .template-selector .template-grid { grid-template-columns: 1fr; }
  .template-selector .template-preview { height: 220px; }
}


/* Optional: Dark mode support */
@media (prefers-color-scheme: dark) {
  .template-selector h2 {
    color: #ecf0f1;
  }
  
  .template-intro {
    color: #bdc3c7;
  }
  
  .template-card {
    background-color: #2c3e50;
    border-color: #34495e;
  }
  
  .template-preview {
    background-color: #34495e;
    border-color: #2c3e50;
  }
  
  .template-placeholder {
    color: #7f8c8d;
  }
  
  .template-info h3 {
    color: #ecf0f1;
  }
  
  .template-info p {
    color: #bdc3c7;
  }
  
  .template-selector-tips {
    background-color: #34495e;
    border-left-color: #3498db;
  }
  
  .template-selector-tips h4 {
    color: #ecf0f1;
  }
  
  .template-selector-tips li {
    color: #bdc3c7;
  }
  
  .template-selector-tips strong {
    color: #ecf0f1;
  }
}
